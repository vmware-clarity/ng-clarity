/*
 * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */

@use 'sass:meta';
@use '../../utils/a11y';
@use '../../utils/mixins';
@use '@cds/core/tokens/tokens.scss';
@use '../variables.accordion' as accordion-variables;
@include meta.load-css('../properties.accordion');
// TODO: Add properties file

.clr-stepper-forms {
  .clr-accordion-panel {
    .clr-accordion-header-button {
      padding: 0.9rem;
    }
  }

  .clr-accordion-panel-inactive .clr-accordion-angle {
    visibility: hidden;
  }

  .clr-accordion-panel-open {
    .clr-accordion-header {
      box-shadow: accordion-variables.$clr-accordion-header-left-current-indicator !important;
    }
  }

  .clr-accordion-panel-open > .clr-accordion-header .clr-accordion-angle {
    visibility: visible;
  }

  .clr-accordion-status {
    min-width: tokens.$cds-global-space-14;
    margin-left: tokens.$cds-global-space-7;
  }

  .clr-accordion-number {
    @include mixins.generate-typography-token('BODY-14-SB-STD');
    padding: 0 tokens.$cds-global-space-7;
    display: inline-block !important;
  }

  .clr-accordion-description {
    display: inline-block;
    max-width: mixins.baselinePx(650);

    @media (min-width: accordion-variables.$clr-accordion-responsive-breakpoint) {
      margin-left: tokens.$cds-global-space-12;
    }
  }

  .clr-accordion-title {
    @include mixins.generate-typography-token('BODY-14-SB-STD');
  }

  .clr-accordion-description {
    @include mixins.generate-typography-token('BODY-14-RG-STD');
  }

  .clr-step-button {
    display: block;
    margin-top: tokens.$cds-global-space-9;
  }

  .clr-accordion-header-has-description {
    .clr-accordion-title {
      @media (min-width: accordion-variables.$clr-accordion-responsive-breakpoint) {
        margin-left: tokens.$cds-global-space-9;
      }
    }
  }
}

clr-stepper-panel .clr-accordion-inner-content {
  padding: #{tokens.$cds-global-space-9} #{tokens.$cds-global-space-11};
}

.clr-accordion-panel-complete {
  .clr-accordion-complete-icon {
    display: inline-block;
    color: accordion-variables.$clr-accordion-complete-color;
  }

  .clr-accordion-angle {
    visibility: visible;
  }

  .clr-accordion-header {
    box-shadow: inset tokens.$cds-global-space-5 0 0 accordion-variables.$clr-accordion-border-left-color-complete !important;
  }

  .ng-trigger.clr-accordion-content {
    display: block;
  }
}

.clr-accordion-panel-error {
  .clr-accordion-header {
    box-shadow: inset tokens.$cds-global-space-5 0 0 accordion-variables.$clr-accordion-border-left-color-error;
    border-color: accordion-variables.$clr-accordion-error-color;
    border-bottom: tokens.$cds-global-space-1 solid accordion-variables.$clr-accordion-border-left-color-error;
    background-color: accordion-variables.$clr-accordion-active-background-color;
  }

  .clr-accordion-error-icon {
    display: inline-block;
    color: accordion-variables.$clr-accordion-error-color;
  }
}

.clr-accordion-panel-error .clr-accordion-number,
.clr-accordion-panel-complete .clr-accordion-number {
  @include a11y.screen-reader-only();
}
