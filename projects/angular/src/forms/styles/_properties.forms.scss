/*
 * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
@use 'sass:color';
@use '../../utils/mixins';
@use '@cds/core/tokens/tokens.scss';

@use '../../utils/variables/variables';
@use 'variables.forms' as forms-variables;

@include mixins.exports('forms.properties') {
  @if variables.$clr-use-custom-properties == true {
    :root {
      [cds-theme] {
        // Structure

        // Legacy CLR form base line (6px). Baked deeply in all form calculations.
        // Don't change it unless you know exactly what you are doing.
        --clr-forms-baseline: #{tokens.$cds-global-space-4};

        --clr-forms-icon-size: #{tokens.$cds-global-space-9};
        --clr-form-disabled-background-color: #{tokens.$cds-alias-object-interaction-background};

        // Generic
        --clr-forms-label-color: #{tokens.$cds-alias-typography-color-400};
        --clr-forms-text-color: #{tokens.$cds-alias-typography-color-400};
        --clr-forms-invalid-color: #{tokens.$cds-alias-status-danger};
        --clr-forms-invalid-text-color: #{tokens.$cds-alias-status-danger};
        --clr-forms-valid-color: #{tokens.$cds-alias-status-success};
        --clr-forms-valid-text-color: #{tokens.$cds-alias-status-success};
        --clr-forms-subtext-color: #{tokens.$cds-alias-typography-color-300};
        --clr-forms-placeholder-color: #{tokens.$cds-alias-typography-color-200};
        --clr-forms-border-color: #{tokens.$cds-alias-object-interaction-border-color};
        --clr-forms-focused-color: #{tokens.$cds-alias-object-interaction-background-highlight};

        --clr-forms-subtext-disabled-color: #{tokens.$cds-alias-typography-disabled};
        --clr-forms-border-disabled-color: #{tokens.$cds-alias-object-interaction-color-disabled};
        --clr-forms-text-disabled-color: #{tokens.$cds-alias-typography-disabled};
        --clr-forms-label-disabled-color: #{tokens.$cds-alias-typography-disabled};
        // --clr-forms-icon-disabled-color: #{tokens.$cds-alias-status-disabled};
        --clr-forms-placeholder-disabled-color: #{tokens.$cds-alias-typography-disabled};

        // Input
        --clr-forms-input-padding: 0 #{forms-variables.$clr-forms-baseline};
        --clr-forms-input-wrapper-height: calc(4 * #{forms-variables.$clr-forms-baseline});

        // Input group
        --clr-forms-input-group-icon-action-size: #{tokens.$cds-global-space-7};
      }

      // Textarea
      --clr-forms-textarea-background-color: var(--clr-color-neutral-0);
      --clr-forms-textarea-focused-outline: 0
        0
        #{variables.$clr_baselineRem_2px}
        #{variables.$clr_baselineRem_2px}
        #{mixins.$clr-outline-color};
      --clr-forms-textarea-invalid-focused-outline: 0
        0
        #{variables.$clr_baselineRem_2px}
        #{variables.$clr_baselineRem_2px}
        #{color.adjust(variables.$clr-color-danger-800, $lightness: 30%)};
      --clr-forms-textarea-padding: calc(#{forms-variables.$clr-forms-baseline} + #{variables.$clr_baselineRem_2px})
        calc(#{forms-variables.$clr-forms-baseline} * 2);
      --clr-forms-textarea-wrapper-margin-left: 0;
      --clr-forms-textarea-wrapper-margin-top: #{forms-variables.$clr-forms-baseline};
      --clr-forms-textarea-disabled-background: #{forms-variables.$clr-forms-textarea-background-color};

      // Select
      --clr-forms-select-hover-background: rgba(
        #{color.red(variables.$clr-color-neutral-300)},
        #{color.green(variables.$clr-color-neutral-300)},
        #{color.blue(variables.$clr-color-neutral-300)},
        0.5
      );
      --clr-forms-select-hover-border-color: var(--clr-forms-select-hover-background);
      --clr-forms-select-disabled-border-color: #{forms-variables.$clr-forms-border-color};
      --clr-forms-select-caret-hover-color: var(--clr-color-neutral-600);
      --clr-forms-select-caret-color: var(--clr-color-neutral-500);
      --clr-forms-select-option-color: var(--clr-forms-text-color);
      --clr-forms-select-multiple-background-color: var(--clr-forms-textarea-background-color);
      --clr-forms-select-multiple-border-color: var(--clr-color-neutral-400);
      --clr-forms-select-multiple-option-color: var(--clr-forms-text-color);
      --clr-forms-select-multiple-error-focus-color: #{color.adjust(variables.$clr-color-danger-800, $lightness: 30%)};

      // Checkbox
      --clr-forms-checkbox-label-color: var(--clr-forms-label-color);
      --clr-forms-checkbox-background-color: var(--clr-color-action-600);
      --clr-forms-checkbox-indeterminate-border-color: var(--clr-color-action-600);
      --clr-forms-checkbox-mark-color: var(--clr-color-neutral-0);
      --clr-forms-checkbox-disabled-background-color: var(--clr-form-disabled-background-color);
      --clr-forms-checkbox-disabled-mark-color: var(--clr-color-neutral-1000);
      --clr-forms-checkbox-border-radius: var(--clr-global-borderradius);
      --clr-forms-checkbox-line-height: #{forms-variables.$clr-forms-icon-size};
      --clr-forms-checkbox-padding-left: #{forms-variables.$clr-forms-checkbox-padding-left};
      --clr-forms-checkbox-label-height: #{forms-variables.$clr-forms-checkbox-label-height};
      --clr-forms-checkbox-checked-shadow: inset
        0
        0
        0
        #{variables.$clr_baselineRem_0_25}
        var(--clr-forms-checkbox-background-color);

      // Radio
      --clr-forms-radio-label-color: var(--clr-forms-checkbox-label-color);
      --clr-forms-radio-label-disabled-color: #{forms-variables.$clr-forms-radio-label-color};
      --clr-forms-radio-disabled-background-color: var(--clr-color-neutral-700);
      --clr-forms-radio-disabled-mark-color: var(--clr-forms-checkbox-disabled-mark-color);
      --clr-forms-radio-selected-shadow: var(--clr-forms-checkbox-checked-shadow);
      --clr-forms-radio-disabled-shadow: #{forms-variables.$clr-forms-radio-disabled-shadow};
      --clr-forms-radio-line-height: #{forms-variables.$clr-forms-icon-size};
      --clr-forms-radio-padding-left: #{forms-variables.$clr-forms-radio-padding-left};
      --clr-forms-radio-label-height: #{forms-variables.$clr-forms-radio-label-height};
      --clr-forms-radio-focused-shadow: 0
        0
        #{mixins.$clr-outline-blur}
        #{mixins.$clr-outline-spread}
        #{mixins.$clr-outline-color};

      // Range
      --clr-forms-range-progress-fill-color: var(--clr-color-action-600);
      --clr-forms-range-track-color: var(--clr-color-neutral-200);
      --clr-forms-range-track-border-color: #{forms-variables.$clr-forms-range-border-color};
      --clr-forms-range-thumb-height: #{forms-variables.$clr-forms-range-thumb-height};
      --clr-forms-range-track-height: #{forms-variables.$clr-forms-range-track-height};
      --clr-forms-range-track-border-radius: #{forms-variables.$clr-forms-range-border-radius};
      --clr-forms-range-track-border-width: #{forms-variables.$clr-forms-range-border-width};
      --clr-forms-range-progress-fill-color-disabled: #{forms-variables.$clr-forms-range-progress-fill-color};
      --clr-forms-range-track-color-disabled: #{forms-variables.$clr-forms-range-track-color};
      --clr-forms-range-track-border-color-disabled: #{forms-variables.$clr-forms-range-border-color-disabled};

      // Datalist

      --clr-forms-datalist-caret-color: #{variables.$clr-color-neutral-600};
      --clr-forms-datalist-caret-disabled-color: #{variables.$clr-color-neutral-600};
      --clr-forms-datalist-caret-icon-size: #{variables.$clr_baselineRem_0_667};

      // Password
      --clr-forms-password-eye-icon-color: var(--clr-forms-focused-color);
      --clr-forms-password-disabled-eye-icon-color: var(--clr-forms-text-disabled-color);
    }
  }
}
