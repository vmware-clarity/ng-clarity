/*
 * Copyright (c) 2016-2024 Broadcom. All Rights Reserved.
 * The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.   
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
@use '../../utils/mixins';
@use '../tabs/variables.tabs' as tabs-variables;
@use 'variables.subnav' as subnav-variables;
@use '../tabs/tabs.clarity' as tabs;
@use '@cds/core/tokens/tokens.scss';

@include mixins.exports('nav.clarity') {
  .nav {
    display: flex; //For the elements inside the nav
    height: subnav-variables.$clr-subnav-height;
    list-style-type: none;
    align-items: center;
    margin: 0;
    width: 100%;
    white-space: nowrap;
    box-shadow: subnav-variables.$clr-nav-shadow;
    gap: tokens.$cds-global-space-9;

    .nav-item {
      display: inline-block;

      &.active > .nav-link {
        color: tabs-variables.$clr-nav-link-active-color;
        box-shadow: subnav-variables.$clr-nav-shadow;
      }
    }

    .nav-link {
      position: relative;
      color: tabs-variables.$clr-nav-link-color;
      @include mixins.generate-typography-token('BODY-14-RG-STD');
      padding: tokens.$cds-global-space-5 tokens.$cds-global-space-3;
      display: inline-block;

      //Clarity Buttons as .nav-links in .nav
      &.btn {
        text-transform: none;
        //-1px to account for the border of the button
        margin: 0 0 calc(-1 * #{tokens.$cds-global-space-1});
        border-radius: 0;
      }

      &.dropdown-toggle {
        padding: tokens.$cds-global-space-5;
        cds-icon {
          color: tabs-variables.$clr-nav-link-color;
        }
      }

      &:hover,
      &:focus,
      &:active {
        color: inherit;
      }

      // TODO - separate :active and .active, currently .active is being used for selected state.
      &:active {
        background-color: tabs-variables.$clr-nav-active-bg-color;
      }

      &:hover,
      &.active {
        @include tabs.nav-link-border-appearence('bottom');
      }

      &:hover,
      &:focus,
      &:active,
      &.active {
        text-decoration: none;
      }
      &.active {
        &:hover {
          background-color: tabs-variables.$clr-nav-selected-hover-background-color;
        }
        &:active {
          background-color: tabs-variables.$clr-nav-selected-active-background-color;
        }
        color: tabs-variables.$clr-nav-link-active-color;
      }

      // When using clrTabLink directive, DOM has both .nav-link and .nav-item in the same elem
      &.nav-item {
        margin-right: tokens.$cds-global-space-9;
      }
    }
  }
}
