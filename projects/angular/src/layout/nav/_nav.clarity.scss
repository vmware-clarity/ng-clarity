/*
 * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
@use '../../utils/mixins';
@use '../../utils/variables/variables.global';
@use '../tabs/variables.tabs' as tabs-variables;
@use 'variables.subnav' as nav-variables;
@use '../tabs/tabs.clarity' as tabs;
@use '@cds/core/tokens/tokens.scss';

@include mixins.exports('nav.clarity') {
  .nav {
    display: flex; //For the elements inside the nav
    height: nav-variables.$clr-subnav-height;
    list-style-type: none;
    align-items: center;
    margin: 0;
    width: 100%;
    white-space: nowrap;
    box-shadow: 0 calc(-1 * tokens.$cds-global-space-1) 0 tabs-variables.$clr-nav-box-shadow-color inset;
    gap: tabs-variables.$clr-nav-horizontal-gap-size;

    .nav-item {
      display: inline-block;

      &.active > .nav-link {
        color: tabs-variables.$clr-nav-link-active-color;
        box-shadow: 0 calc(-1 * tokens.$cds-global-space-1) 0 tabs-variables.$clr-nav-box-shadow-color inset;
      }
    }

    .nav-link {
      position: relative;
      color: tabs-variables.$clr-nav-link-color;
      @include mixins.generate-typography-token('BODY-14-RG-STD');
      padding: tabs-variables.$clr-nav-horizontal-link-padding;
      display: inline-block;

      //Clarity Buttons as .nav-links in .nav
      &.btn {
        text-transform: none;
        margin: 0;
        margin-bottom: -1 * variables.$clr-global-borderwidth; //-1px to account for the border of the button
        border-radius: 0;
      }

      &.dropdown-toggle {
        padding: tabs-variables.$clr-nav-link-dropdown-toggle-padding;
        cds-icon {
          color: tabs-variables.$clr-nav-link-color;
        }
      }

      &:hover,
      &:focus,
      &:active {
        color: inherit;
      }

      // TODO - separate :active and .active, currently .active is being used for selected state.
      &:active {
        background-color: tabs-variables.$clr-nav-active-bg-color;
      }

      &:hover,
      &.active {
        @include tabs.nav-link-border-appearence('bottom');
      }

      &:hover,
      &:focus,
      &:active,
      &.active {
        text-decoration: none;
      }
      &.active {
        &:hover {
          background-color: tabs-variables.$clr-nav-selected-hover-background-color;
        }
        color: tabs-variables.$clr-nav-link-active-color;
      }

      // When using clrTabLink directive, DOM has both .nav-link and .nav-item in the same elem
      &.nav-item {
        margin-right: variables.$clr_baselineRem_1;
      }
    }
  }
}
