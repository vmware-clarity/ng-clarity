/*
 * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
@use 'sass:map';
@use '../../utils/mixins';
@use '../../utils/variables/variables';
@use 'variables.dropdown' as dropdown-variables;
@use '@cds/core/tokens/tokens.scss';

@mixin generate-dropdown-menu() {
  display: flex;
  flex-direction: column;
  position: absolute;
  top: 100%;
  left: 0;

  //Dimensions
  min-width: mixins.baselinePx(120);
  max-width: mixins.baselinePx(360);

  //Other
  background-color: dropdown-variables.$clr-dropdown-bg-color;

  border-width: tokens.$cds-alias-object-border-width-100;
  border-style: solid;
  border-color: dropdown-variables.$clr-dropdown-border-color;
  border-radius: dropdown-variables.$clr-dropdown-border-radius;

  box-shadow: tokens.$cds-alias-object-shadow-300;

  margin-top: tokens.$cds-global-space-2;
  padding: dropdown-variables.$clr-dropdown-items-padding;
  visibility: hidden;
  z-index: map.get(variables.$clr-layers, dropdown-menu);
}

@mixin generate-dropdown-item() {
  @include mixins.generate-typography-token(
    'SECONDARY-13-RG-EXP',
    (
      font-size: dropdown-variables.$clr-dropdown-item-font-size,
      font-weight: dropdown-variables.$clr-dropdown-item-font-weight,
      line-height: dropdown-variables.$clr-dropdown-item-line-height,
      letter-spacing: dropdown-variables.$clr-dropdown-item-letter-spacing,
    )
  );

  color: dropdown-variables.$clr-dropdown-item-color;
  background: transparent;
  border: 0;
  cursor: pointer;
  display: block;
  height: auto;
  margin: 0;
  width: 100%;
  text-transform: none;

  &:hover {
    background-color: dropdown-variables.$clr-dropdown-bg-hover-color;
    color: dropdown-variables.$clr-dropdown-item-hover-color;
    text-decoration: none;
  }

  &.active {
    background-color: dropdown-variables.$clr-dropdown-selection-color;
    color: dropdown-variables.$clr-dropdown-active-text-color;
  }

  &:active {
    box-shadow: none;
  }

  &:focus {
    z-index: inherit;
  }

  &.disabled,
  &:disabled {
    pointer-events: none;
    opacity: 0.4;
    user-select: none;

    &:hover {
      background: none;
    }

    &:active {
      background: none;
      box-shadow: none;
    }
  }
}

@mixin generate-dropdown-item-height() {
  padding: dropdown-variables.$clr-dropdown-item-padding;

  @media screen and (max-width: map.get(variables.$clr-grid-breakpoints, sm)) {
    padding: tokens.$cds-global-space-4 tokens.$cds-global-space-9;
  }
}
