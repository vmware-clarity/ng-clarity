<!--
  ~ Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
-->

<h2>Hide-show columns demo with custom buttons</h2>

<clr-datagrid
  *ngIf="{ users: users | async }; let data"
  [clrDgLoading]="loading"
  [clrLoadingMoreItemsAfter]="loadingMoreItemsAfter"
  [clrLoadingMoreItemsBefore]="loadingMoreItemsBefore"
  style="height: 30rem"
>
  <clr-dg-column>
    <ng-container *clrDgHideableColumn>User ID</ng-container>
  </clr-dg-column>
  <clr-dg-column>
    <!--Name-->
    <ng-container *clrDgHideableColumn>Name</ng-container>
  </clr-dg-column>
  <clr-dg-column>
    <ng-container *clrDgHideableColumn>Creation date</ng-container>
  </clr-dg-column>
  <clr-dg-column>
    <ng-container *clrDgHideableColumn>Pokemon</ng-container>
  </clr-dg-column>
  <clr-dg-column>
    <ng-container *clrDgHideableColumn>Favorite color</ng-container>
  </clr-dg-column>

  <ng-template
    *ngIf="data.users"
    customClrVirtualRows
    let-user
    [customClrVirtualRowsOf]="data.users"
    [customClrVirtualRowsItemSize]="32"
    [customClrVirtualRowsMinBufferPx]="200"
    [customClrVirtualRowsMaxBufferPx]="400"
    [customClrVirtualRowsKeyboardScrollPageSize]="32"
    (renderedRangeChange)="renderRangeChange($event)"
  >
    <clr-dg-row [clrDgItem]="user">
      <clr-dg-cell>{{user.id}}</clr-dg-cell>
      <clr-dg-cell>{{user.name}}</clr-dg-cell>
      <clr-dg-cell>{{user.creation | date}}</clr-dg-cell>
      <clr-dg-cell> {{user.pokemon.name}} </clr-dg-cell>
      <clr-dg-cell>
        <span class="color-square" [style.backgroundColor]="user.color"></span>
      </clr-dg-cell>
    </clr-dg-row>
  </ng-template>

  <clr-dg-footer> {{data.users?.length}} </clr-dg-footer>
</clr-datagrid>
