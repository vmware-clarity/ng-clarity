<!--
~ Copyright (c) 2016-2025 Broadcom. All Rights Reserved.
~ The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.
~ This software is released under MIT license.
~ The full license information can be found in LICENSE in the root directory of this project.
-->

<h4>500k nodes, synchronous</h4>
<p>Selected: {{tree.selected.join(', ')}}</p>
<div class="clr-example">
  <clr-tree [clrLazy]="true">
    @for (node of tree.root; track node) {
    <clr-tree-node [clrSelected]="tree.isSelected(node)" (clrSelectedChange)="tree.select(node, $event)">
      {{node}}
      <ng-template clrIfExpanded>
        @for (child of tree.getChildren(node); track child) {
        <clr-tree-node [clrSelected]="tree.isSelected(child)" (clrSelectedChange)="tree.select(child, $event)">
          {{child}}
          <ng-template clrIfExpanded>
            @for (child of tree.getChildren(child); track child) {
            <clr-tree-node [clrSelected]="tree.isSelected(child)" (clrSelectedChange)="tree.select(child, $event)">
              {{child}}
              <ng-template clrIfExpanded>
                @for (child of tree.getChildren(child); track child) {
                <clr-tree-node [clrSelected]="tree.isSelected(child)" (clrSelectedChange)="tree.select(child, $event)">
                  {{child}}
                  <ng-template clrIfExpanded>
                    @for (child of tree.getChildren(child); track child) {
                    <clr-tree-node
                      [clrSelected]="tree.isSelected(child)"
                      (clrSelectedChange)="tree.select(child, $event)"
                    >
                      {{child}}
                      <ng-template clrIfExpanded>
                        @for (child of tree.getChildren(child); track child) {
                        <clr-tree-node
                          [clrSelected]="tree.isSelected(child)"
                          (clrSelectedChange)="tree.select(child, $event)"
                        >
                          {{child}}
                        </clr-tree-node>
                        }
                      </ng-template>
                    </clr-tree-node>
                    }
                  </ng-template>
                </clr-tree-node>
                }
              </ng-template>
            </clr-tree-node>
            }
          </ng-template>
        </clr-tree-node>
        }
      </ng-template>
    </clr-tree-node>
    }
  </clr-tree>
</div>

<h4>Asynchronous</h4>
<p>Selected: {{asyncTree.selected.join(', ')}}</p>
<div class="clr-example">
  <clr-tree [clrLazy]="true">
    @for (node of asyncTree.root; track node) {
    <clr-tree-node
      [clrLoading]="loading[node]"
      [clrSelected]="asyncTree.isSelected(node)"
      (clrSelectedChange)="asyncTree.select(node, $event)"
    >
      {{node}}
      <ng-template clrIfExpanded (clrIfExpandedChange)="fetchChildren(node, $event)">
        @for (child of children[node] |Â async; track child) {
        <clr-tree-node
          [clrLoading]="loading[child]"
          [clrSelected]="asyncTree.isSelected(child)"
          (clrSelectedChange)="asyncTree.select(child, $event)"
        >
          {{child}}
          <ng-template clrIfExpanded (clrIfExpandedChange)="fetchChildren(child, $event)">
            @for (child of children[child] | async; track child) {
            <clr-tree-node
              [clrSelected]="asyncTree.isSelected(child)"
              (clrSelectedChange)="asyncTree.select(child, $event)"
            >
              {{child}}
            </clr-tree-node>
            }
          </ng-template>
        </clr-tree-node>
        }
      </ng-template>
    </clr-tree-node>
    }
  </clr-tree>
</div>
