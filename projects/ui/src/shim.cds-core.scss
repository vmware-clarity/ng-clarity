/*
 * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
@use '@cds/core/tokens/tokens.scss';
/* This shim file maps the custom properties of @clr/ui to Core tokens. Thus, it is only needed for apps currently dependent on @clr/ui and wanting to apply Core look and feel. */

// Line height tokens are implemented as the smallest version in the figma specs but some
// styles have a standard and/or expanded styles with larger line heights.
@function convertCompactToStandardLineHeight($variable, $fallback_variable) {
  @return calc(#{$variable} + (calc(4 / 20 * 1rem)));
}

// Reevaluate pixel values based on baseline rem setting.
@function baselinePx($pixels: 0) {
  @return calc($pixels * (1rem / var(--clr-global-font-size)));
}

[cds-theme] {
  /* Global */
  --clr-global-font-size: #{tokens.$cds-global-base};
  --clr-global-borderradius: #{tokens.$cds-alias-object-border-radius-100};
  --clr-global-borderwidth: #{tokens.$cds-alias-object-border-width-100};
  --clr-font: #{tokens.$cds-global-typography-font-family};

  // app background
  --clr-global-app-background: #{tokens.$cds-alias-object-app-background}; // #{$clr-global-app-background}; // $clr-color-neutral-50

  // app selection colors
  --clr-global-selection-color: #{tokens.$cds-alias-object-interaction-background-selected}; // #{$clr-global-selection-color}; // hsl(201, 29%, 88%)
  --clr-global-on-selection-color: #{tokens.$cds-alias-object-interaction-color-selected}; // #{$clr-global-on-selection-color}; // $clr-color-neutral-1000

  // app hover colors
  --clr-global-hover-color: #{tokens.$cds-global-typography-link-color-hover}; // #{$clr-global-hover-color}; // $clr-color-neutral-200

  // app font colors
  --clr-global-content-header-font-color: #{tokens.$cds-alias-typography-color-400}; // #{$clr-global-content-header-font-color}; // $clr-color-neutral-1000

  --clr-global-font-color: #{tokens.$cds-alias-typography-color-500}; // #{$clr-global-font-color}; // $clr-color-neutral-700

  // app success/error colors
  --clr-global-success-color: #{tokens.$cds-alias-status-success}; // #{$clr-global-success-color}; // hsl(93, 67%, 38%)
  --clr-global-error-color: #{tokens.$cds-alias-status-danger}; // #{$clr-global-error-color}; // hsl(9, 100%, 38%)

  // component close icon colors
  --clr-close-color--normal: #{tokens.$cds-alias-object-interaction-color}; // #{$clr-close-color--normal}; // $clr-color-neutral-600
  --clr-close-color--hover: #{tokens.$cds-alias-object-interaction-color-hover}; // #{$clr-close-color--hover}; // $clr-color-neutral-1000

  /* Typography */

  //H1
  --clr-h1-color: #{tokens.$cds-alias-typography-color-300};
  --clr-h1-font-size: #{tokens.$cds-global-typography-font-size-9};
  --clr-h1-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-h1-font-family: #{tokens.$cds-global-typography-font-family};
  --clr-h1-line-height: #{baselinePx(44)};
  --clr-h1-letter-spacing: calc(-0.5 * (1rem / var(--clr-global-font-size)));

  //H2 - login_trademark, page_mainHeading
  --clr-h2-color: #{tokens.$cds-alias-typography-color-300};
  --clr-h2-font-size: #{tokens.$cds-global-typography-font-size-8};
  --clr-h2-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-h2-font-family: #{tokens.$cds-global-typography-font-family};
  --clr-h2-line-height: #{baselinePx(36)};
  --clr-h2-letter-spacing: calc(-0.4 * (1rem / var(--clr-global-font-size)));

  //H3 - login_subtitle, modal_header, page_secondaryHeading
  --clr-h3-color: #{tokens.$cds-alias-typography-color-300};
  --clr-h3-font-size: #{tokens.$cds-global-typography-font-size-7};
  --clr-h3-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-h3-font-family: #{tokens.$cds-global-typography-font-family};
  --clr-h3-line-height: #{baselinePx(32)};
  --clr-h3-letter-spacing: calc(-0.2 * (1rem / var(--clr-global-font-size)));

  //H4 - card titles, page_tertiaryHeading
  --clr-h4-color: #{tokens.$cds-alias-typography-color-300};
  --clr-h4-font-size: #{tokens.$cds-global-typography-font-size-6};
  --clr-h4-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-h4-font-family: #{tokens.$cds-global-typography-font-family};
  --clr-h4-line-height: #{baselinePx(24)};
  --clr-h4-letter-spacing: calc(-0.2 * (1rem / var(--clr-global-font-size)));

  //H5 - dgrid placeholder, datagrid_column_toggle_title, form_block_label, nav_title, page_introParagraph, page_sectionHeader
  --clr-h5-color: #{tokens.$cds-alias-typography-color-300};
  --clr-h5-font-size: #{tokens.$cds-global-typography-font-size-5};
  --clr-h5-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-h5-font-family: #{tokens.$cds-global-typography-font-family};
  --clr-h5-line-height: #{baselinePx(24)};
  --clr-h5-letter-spacing: calc(-0.2 * (1rem / var(--clr-global-font-size)));

  //H6 - toc_header
  --clr-h6-color: #{tokens.$cds-alias-typography-color-300};
  --clr-h6-font-size: #{tokens.$cds-global-typography-font-size-5};
  --clr-h6-font-weight: #{tokens.$cds-global-typography-font-weight-light};
  --clr-h6-font-family: #{tokens.$cds-global-typography-font-family};
  --clr-h6-line-height: #{baselinePx(24)};
  --clr-h6-letter-spacing: calc(-0.2 * (1rem / var(--clr-global-font-size)));

  // Non-header text styles
  //P0 - Intro text
  --clr-p0-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p0-font-weight: #{tokens.$cds-global-typography-font-weight-regular};
  --clr-p0-font-size: #{tokens.$cds-global-typography-font-size-4};
  --clr-p0-line-height: #{baselinePx(20)};
  --clr-p0-letter-spacing: calc(-0.1 * (1rem / var(--clr-global-font-size)));

  //P1 - card text, dropdown_text, page_bodyText, tab_text, toc_text
  --clr-p1-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p1-font-weight: #{tokens.$cds-global-typography-font-weight-regular};
  --clr-p1-font-size: #{tokens.$cds-global-typography-font-size-4};
  --clr-p1-line-height: #{baselinePx(20)};
  --clr-p1-letter-spacing: calc(-0.1 * (1rem / var(--clr-global-font-size)));

  //P2 - form_label, stackview_header
  --clr-p2-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p2-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-p2-font-size: #{tokens.$cds-global-typography-font-size-3};
  --clr-p2-line-height: #{baselinePx(24)};
  --clr-p2-letter-spacing: calc(-0.1 * (1rem / var(--clr-global-font-size)));

  //P3 - alerts, form_group_fields, stackview_text, table_text, tooltip_text
  --clr-p3-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p3-font-weight: #{tokens.$cds-global-typography-font-weight-regular};
  --clr-p3-font-size: #{tokens.$cds-global-typography-font-size-3};
  --clr-p3-line-height: #{baselinePx(24)};
  --clr-p3-letter-spacing: calc(-0.1 * (1rem / var(--clr-global-font-size)));

  //P4 - small alerts, dropdown_header, vertical_nav_header
  --clr-p4-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p4-font-weight: #{tokens.$cds-global-typography-font-weight-semibold};
  --clr-p4-font-size: #{tokens.$cds-global-typography-font-size-3};
  --clr-p4-line-height: #{baselinePx(20)};
  --clr-p4-letter-spacing: calc(-0.1 * (1rem / var(--clr-global-font-size)));

  //P5
  --clr-p5-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p5-font-weight: #{tokens.$cds-global-typography-font-weight-regular};
  --clr-p5-font-size: #{tokens.$cds-global-typography-font-size-3};
  --clr-p5-line-height: #{baselinePx(24)};
  --clr-p5-letter-spacing: calc(-0.1 * (1rem / var(--clr-global-font-size)));

  //P6 - card link btns, form_subtext, table_header
  --clr-p6-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p6-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-p6-font-size: #{tokens.$cds-global-typography-font-size-1};
  --clr-p6-line-height: #{baselinePx(16)};
  --clr-p6-letter-spacing: calc(-0.2 * (1rem / var(--clr-global-font-size)));

  //P7 - label_text
  --clr-p7-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p7-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-p7-font-size: #{tokens.$cds-global-typography-font-size-0};
  --clr-p7-line-height: #{baselinePx(12)};
  --clr-p7-letter-spacing: calc(-0.5 * (1rem / var(--clr-global-font-size)));

  //P8
  --clr-p8-color: #{tokens.$cds-alias-typography-color-450};
  --clr-p8-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-p8-font-size: #{tokens.$cds-global-typography-font-size-0};
  --clr-p8-line-height: #{baselinePx(12)};
  --clr-p8-letter-spacing: calc(-0.5 * (1rem / var(--clr-global-font-size)));

  /* Accordion */

  --clr-accordion-text-color: #{tokens.$cds-alias-object-interaction-color};
  --clr-accordion-text-color-hover: #{tokens.$cds-alias-object-interaction-color-hover};
  --clr-accordion-text-color-active: #{tokens.$cds-alias-object-interaction-color-active};
  --clr-accordion-text-color-selected: #{tokens.$cds-alias-object-interaction-color-selected};

  --clr-accordion-panel-disabled-color: #{tokens.$cds-alias-object-interaction-color-disabled}; // var(--clr-color-neutral-500);

  --clr-accordion-active-background-color: #{tokens.$cds-alias-object-interaction-background-selected}; // var(--clr-global-selection-color);
  --clr-accordion-content-background-color: #{tokens.$cds-alias-object-app-background}; // var(--clr-color-neutral-0);

  --clr-accordion-header-background-color: #{tokens.$cds-alias-object-container-background}; // var(--clr-color-neutral-50);
  --clr-accordion-header-disabled-background-color: #{tokens.$cds-alias-object-container-background};
  --clr-accordion-header-hover-background-color: #{tokens.$cds-alias-object-interaction-background-hover}; // var(--clr-color-neutral-200);
  --clr-accordion-header-active-background-color: #{tokens.$cds-alias-object-interaction-background-active}; // var(--clr-color-neutral-200);

  --clr-accordion-error-color: #{tokens.$cds-alias-status-danger}; // var(--clr-global-error-color);
  --clr-accordion-complete-color: #{tokens.$cds-alias-status-success}; // var(--clr-global-success-color);
  --clr-accordion-border-color: #{tokens.$cds-alias-object-border-color}; // var(--clr-color-neutral-400);

  --clr-accordion-border-left-color: #{tokens.$cds-alias-object-border-color-tint}; // #{$clr-accordion-border-left-color};
  --clr-accordion-border-left-color-complete: var(--clr-accordion-complete-color); // indirectly mapped to CDS token
  --clr-accordion-border-left-color-error: var(--clr-accordion-error-color); // indirectly mapped to CDS token

  --clr-accordion-title-font-size: #{tokens.$cds-alias-typography-secondary-font-size};
  --clr-accordion-title-font-weight: #{tokens.$cds-alias-typography-secondary-font-weight};

  --clr-accordion-header-button-line-height: var(
    --clr-p1-line-height,
    #{convertCompactToStandardLineHeight(#{tokens.$cds-alias-typography-secondary-line-height}, #{tokens.$cds-global-typography-secondary-line-height})}
  ); // secondary line-height is 16px in tokens, but specified as 20px in figma.

  --clr-accordion-header-button-padding: #{tokens.$cds-global-space-5} #{tokens.$cds-global-space-6};
  --clr-accordion-header-button-font-size: #{tokens.$cds-alias-typography-secondary-font-size};
  --clr-accordion-number-padding: 0 #{tokens.$cds-global-space-7};
  --clr-accordion-header-left-indicator: inset #{tokens.$cds-global-space-5} 0 0 #{tokens.$cds-alias-status-neutral-tint};
  --clr-accordion-header-left-current-indicator: inset #{tokens.$cds-global-space-5} 0 0 #{tokens.$cds-alias-object-interaction-background-highlight};
  --clr-accordion-header-left-complete-indicator: inset #{tokens.$cds-global-space-5} 0 0 #{tokens.$cds-alias-status-success};
  --clr-accordion-header-left-error-indicator: inset #{tokens.$cds-global-space-5} 0 0 #{tokens.$cds-alias-status-danger};
  --clr-accordion-content-color: #{tokens.$cds-alias-typography-color-400};
  --clr-accordion-content-font-size: #{tokens.$cds-alias-typography-secondary-font-size};
  --clr-accordion-description-margin-left: calc(#{tokens.$cds-global-space-13} - var(--clr-accordion-header-gap));

  --clr-accordion-step-title-min-width: 0;
  --clr-accordion-step-title-font-weight: #{tokens.$cds-alias-typography-font-weight-semibold};
  --clr-accordion-step-status-margin-left: #{tokens.$cds-global-space-7};
  --clr-accordion-step-title-margin-left: #{tokens.$cds-global-space-9};
  --clr-accordion-header-font-size: #{tokens.$cds-alias-typography-body-font-size};

  // v17 remove var in favor of gap:sm class
  --clr-accordion-header-gap: #{tokens.$cds-global-space-5};
  // v17: remove
  --clr-accordion-status-icon-width: auto;
  --clr-accordion-content-padding: #{tokens.$cds-global-space-5} #{tokens.$cds-global-space-6} #{tokens.$cds-global-space-5} #{tokens.$cds-global-space-11};

  /* Responsive Navigation */

  --clr-sliding-panel-text-color: #{tokens.$cds-global-color-gray-700}; // var(--clr-color-neutral-700);
  --clr-nav-background-color: #{tokens.$cds-global-color-gray-200}; // var(--clr-color-neutral-200);
  --clr-responsive-nav-hover-bg: #{tokens.$cds-global-color-gray-0}; // var(--clr-color-neutral-0);
  --clr-responsive-nav-trigger-bg-color: #{tokens.$cds-global-color-gray-0}; // var(--clr-color-neutral-0);
  --clr-responsive-nav-header-backdrop-bg-color: #{tokens.$cds-global-color-gray-1000}; // var(--clr-color-neutral-1000);

  /* Subnav */

  --clr-subnav-bg-color: #{tokens.$cds-alias-object-container-background}; // var(--clr-color-neutral-0);
  --clr-subnav-sm-link-border-radius: 0; // ATM - default
  --clr-subnav-sm-item-height: auto; // ATM - remove
  --clr-subnav-sm-link-padding: var(--clr-vertical-nav-item-padding); // ATM - default

  // TODO(CDE-884): Clean up accordion styles and properly separate accordion/stepper styles
  clr-stepper-panel .clr-accordion-inner-content {
    padding: #{tokens.$cds-global-space-9} #{tokens.$cds-global-space-11};
  }
}

[cds-theme~='dark'] {
  --clr-datagrid-loading-background: #{tokens.$cds-alias-object-opacity-300}; // #{$clr-datagrid-loading-background}; // rgba(0, 0, 0, 0.5);
}
