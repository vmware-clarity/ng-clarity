/*
 * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
@use '@cds/core/tokens/tokens.scss';
/* This shim file maps the custom properties of @clr/ui to Core tokens. Thus, it is only needed for apps currently dependent on @clr/ui and wanting to apply Core look and feel. */

// Line height tokens are implemented as the smallest version in the figma specs but some
// styles have a standard and/or expanded styles with larger line heights.
@function convertCompactToStandardLineHeight($variable, $fallback_variable) {
  @return calc(#{$variable} + (calc(4 / 20 * 1rem)));
}

// Reevaluate pixel values based on baseline rem setting.
@function baselinePx($pixels: 0) {
  @return calc($pixels * (1rem / var(--clr-global-font-size)));
}

[cds-theme] {
  /* Global */
  --clr-global-font-size: #{tokens.$cds-global-base};
  --clr-global-borderradius: #{tokens.$cds-alias-object-border-radius-100};
  --clr-global-borderwidth: #{tokens.$cds-alias-object-border-width-100};

  // app background
  --clr-global-app-background: #{tokens.$cds-alias-object-app-background}; // #{$clr-global-app-background}; // $clr-color-neutral-50

  // app selection colors
  --clr-global-selection-color: #{tokens.$cds-alias-object-interaction-background-selected}; // #{$clr-global-selection-color}; // hsl(201, 29%, 88%)
  --clr-global-on-selection-color: #{tokens.$cds-alias-object-interaction-color-selected}; // #{$clr-global-on-selection-color}; // $clr-color-neutral-1000

  // app hover colors
  --clr-global-hover-color: #{tokens.$cds-global-typography-link-color-hover}; // #{$clr-global-hover-color}; // $clr-color-neutral-200

  // app font colors
  --clr-global-content-header-font-color: #{tokens.$cds-alias-typography-color-400}; // #{$clr-global-content-header-font-color}; // $clr-color-neutral-1000

  --clr-global-font-color: #{tokens.$cds-alias-typography-color-500}; // #{$clr-global-font-color}; // $clr-color-neutral-700

  // app success/error colors
  --clr-global-success-color: #{tokens.$cds-alias-status-success}; // #{$clr-global-success-color}; // hsl(93, 67%, 38%)
  --clr-global-error-color: #{tokens.$cds-alias-status-danger}; // #{$clr-global-error-color}; // hsl(9, 100%, 38%)

  // component close icon colors
  --clr-close-color--normal: #{tokens.$cds-alias-object-interaction-color}; // #{$clr-close-color--normal}; // $clr-color-neutral-600
  --clr-close-color--hover: #{tokens.$cds-alias-object-interaction-color-hover}; // #{$clr-close-color--hover}; // $clr-color-neutral-1000

  /* Accordion */

  --clr-accordion-text-color: #{tokens.$cds-alias-object-interaction-color};
  --clr-accordion-text-color-hover: #{tokens.$cds-alias-object-interaction-color-hover};
  --clr-accordion-text-color-active: #{tokens.$cds-alias-object-interaction-color-active};
  --clr-accordion-text-color-selected: #{tokens.$cds-alias-object-interaction-color-selected};

  --clr-accordion-panel-disabled-color: #{tokens.$cds-alias-object-interaction-color-disabled}; // var(--clr-color-neutral-500);

  --clr-accordion-active-background-color: #{tokens.$cds-alias-object-interaction-background-selected}; // var(--clr-global-selection-color);
  --clr-accordion-content-background-color: #{tokens.$cds-alias-object-app-background}; // var(--clr-color-neutral-0);

  --clr-accordion-header-background-color: #{tokens.$cds-alias-object-container-background}; // var(--clr-color-neutral-50);
  --clr-accordion-header-disabled-background-color: #{tokens.$cds-alias-object-container-background};
  --clr-accordion-header-hover-background-color: #{tokens.$cds-alias-object-interaction-background-hover}; // var(--clr-color-neutral-200);
  --clr-accordion-header-active-background-color: #{tokens.$cds-alias-object-interaction-background-active}; // var(--clr-color-neutral-200);

  --clr-accordion-error-color: #{tokens.$cds-alias-status-danger}; // var(--clr-global-error-color);
  --clr-accordion-complete-color: #{tokens.$cds-alias-status-success}; // var(--clr-global-success-color);
  --clr-accordion-border-color: #{tokens.$cds-alias-object-border-color}; // var(--clr-color-neutral-400);

  --clr-accordion-border-left-color: #{tokens.$cds-alias-object-border-color-tint}; // #{$clr-accordion-border-left-color};
  --clr-accordion-border-left-color-complete: var(--clr-accordion-complete-color); // indirectly mapped to CDS token
  --clr-accordion-border-left-color-error: var(--clr-accordion-error-color); // indirectly mapped to CDS token

  --clr-accordion-title-font-size: #{tokens.$cds-alias-typography-secondary-font-size};
  --clr-accordion-title-font-weight: #{tokens.$cds-alias-typography-secondary-font-weight};

  --clr-accordion-header-button-line-height: var(
    --clr-p1-line-height,
    #{convertCompactToStandardLineHeight(#{tokens.$cds-alias-typography-secondary-line-height}, #{tokens.$cds-global-typography-secondary-line-height})}
  ); // secondary line-height is 16px in tokens, but specified as 20px in figma.

  --clr-accordion-header-button-padding: #{tokens.$cds-global-space-5} #{tokens.$cds-global-space-6};
  --clr-accordion-header-button-font-size: #{tokens.$cds-alias-typography-secondary-font-size};
  --clr-accordion-number-padding: 0 #{tokens.$cds-global-space-7};
  --clr-accordion-header-left-indicator: inset #{tokens.$cds-global-space-5} 0 0 #{tokens.$cds-alias-status-neutral-tint};
  --clr-accordion-header-left-current-indicator: inset #{tokens.$cds-global-space-5} 0 0 #{tokens.$cds-alias-object-interaction-background-highlight};
  --clr-accordion-header-left-complete-indicator: inset #{tokens.$cds-global-space-5} 0 0 #{tokens.$cds-alias-status-success};
  --clr-accordion-header-left-error-indicator: inset #{tokens.$cds-global-space-5} 0 0 #{tokens.$cds-alias-status-danger};
  --clr-accordion-content-color: #{tokens.$cds-alias-typography-color-400};
  --clr-accordion-content-font-size: #{tokens.$cds-alias-typography-secondary-font-size};
  --clr-accordion-description-margin-left: calc(#{tokens.$cds-global-space-13} - var(--clr-accordion-header-gap));

  --clr-accordion-step-title-min-width: 0;
  --clr-accordion-step-title-font-weight: #{tokens.$cds-alias-typography-font-weight-semibold};
  --clr-accordion-step-status-margin-left: #{tokens.$cds-global-space-7};
  --clr-accordion-step-title-margin-left: #{tokens.$cds-global-space-9};
  --clr-accordion-header-font-size: #{tokens.$cds-alias-typography-body-font-size};

  // v17 remove var in favor of gap:sm class
  --clr-accordion-header-gap: #{tokens.$cds-global-space-5};
  // v17: remove
  --clr-accordion-status-icon-width: auto;
  --clr-accordion-content-padding: #{tokens.$cds-global-space-5} #{tokens.$cds-global-space-6} #{tokens.$cds-global-space-5} #{tokens.$cds-global-space-11};

  /* Cards */

  --clr-card-bg-color: #{tokens.$cds-alias-object-container-background}; // var(--clr-color-neutral-0);
  --clr-card-divider-color: #{tokens.$cds-alias-object-border-color}; // var(--clr-color-neutral-300);
  --clr-card-title-color: #{tokens.$cds-alias-typography-color-400};
  --clr-card-title-font-weight: #{tokens.$cds-global-typography-section-font-weight};
  --clr-card-header-title-color: var(--clr-card-title-color);
  --clr-card-content-title-color: var(--clr-card-title-color);
  --clr-card-header-title-font-size: #{tokens.$cds-global-typography-section-font-size};
  --clr-card-content-title-font-size: #{tokens.$cds-global-typography-subsection-font-size};
  --clr-card-text-font-size: #{tokens.$cds-global-typography-body-font-size};
  --clr-card-border-color: #{tokens.$cds-alias-object-border-color}; // var(--clr-color-neutral-300);
  --clr-card-box-shadow: #{tokens.$cds-alias-object-shadow-300}; // indirectly mapped to CDS token
  --clr-card-clickable-border-color: #{tokens.$cds-alias-object-interaction-background-highlight}; // var(--clr-color-action-500);
  --clr-card-clickable-box-shadow: #{tokens.$cds-alias-object-shadow-300}; // indirectly mapped to CDS token
  --clr-card-border-radius: #{tokens.$cds-alias-object-border-radius-100};
  --clr-card-border-width: #{tokens.$cds-alias-object-border-width-100};
  --clr-card-clickable-border-width: #{tokens.$cds-alias-object-border-width-200};
  --clr-card-text-color: #{tokens.$cds-alias-typography-color-400};
  --clr-card-header-padding: #{tokens.$cds-global-space-7};
  --clr-card-footer-vertical-padding: #{tokens.$cds-global-space-5}; // ATM: internal property to be deleted
  --clr-card-footer-padding: var(--clr-card-footer-vertical-padding) #{tokens.$cds-global-space-7};
  --clr-card-block-padding: #{tokens.$cds-global-space-7};
  --clr-card-list-group-item-padding: #{tokens.$cds-global-space-7};
  --clr-card-children-space-between: #{tokens.$cds-global-space-7};
  --clr-card-media-description-margin-left: #{tokens.$cds-global-space-7};
  --clr-card-media-description-margin-top: #{tokens.$cds-global-space-7};
  --clr-card-footer-gap: #{tokens.$cds-global-space-5};

  /* Responsive Navigation */

  --clr-sliding-panel-text-color: #{tokens.$cds-global-color-gray-700}; // var(--clr-color-neutral-700);
  --clr-nav-background-color: #{tokens.$cds-global-color-gray-200}; // var(--clr-color-neutral-200);
  --clr-responsive-nav-hover-bg: #{tokens.$cds-global-color-gray-0}; // var(--clr-color-neutral-0);
  --clr-responsive-nav-trigger-bg-color: #{tokens.$cds-global-color-gray-0}; // var(--clr-color-neutral-0);
  --clr-responsive-nav-header-backdrop-bg-color: #{tokens.$cds-global-color-gray-1000}; // var(--clr-color-neutral-1000);

  /* Subnav */

  --clr-subnav-bg-color: #{tokens.$cds-alias-object-container-background}; // var(--clr-color-neutral-0);
  --clr-subnav-sm-link-border-radius: 0; // ATM - default
  --clr-subnav-sm-item-height: auto; // ATM - remove
  --clr-subnav-sm-link-padding: var(--clr-vertical-nav-item-padding); // ATM - default

  /* Timeline */

  --clr-timeline-line-color: #{tokens.$cds-alias-object-interaction-border-color}; // var(--clr-color-neutral-500);
  --clr-timeline-step-header-color: #{tokens.$cds-alias-typography-color-400}; //  #{tokens.$cds-alias-object-border-color-shade}; // var(--clr-color-neutral-600);
  --clr-timeline-step-title-color: #{tokens.$cds-alias-typography-color-400}; // var(--clr-color-neutral-700);
  --clr-timeline-step-description-color: #{tokens.$cds-alias-typography-color-400}; // var(--clr-color-neutral-700);

  --clr-timeline-incomplete-step-color: #{tokens.$cds-alias-object-interaction-border-color}; // #{tokens.$cds-global-color-gray-600}; // var(--clr-color-neutral-600);
  --clr-timeline-current-step-color: #{tokens.$cds-alias-object-interaction-background-highlight}; // var(--clr-color-action-600);
  --clr-timeline-success-step-color: #{tokens.$cds-alias-status-success}; // var(--clr-color-success-400);
  --clr-timeline-error-step-color: #{tokens.$cds-alias-status-danger}; // var(--clr-color-danger-800);

  --clr-timeline-icon-size: #{tokens.$cds-global-space-11};
  --clr-timeline-line-width: #{tokens.$cds-global-space-2};
  --clr-timeline-step-margin: #{tokens.$cds-global-space-5};
  --clr-timeline-step-internal-margin: #{tokens.$cds-global-space-6}; // internal property cannot be exposed
  --clr-timeline-horizontal-line-length: calc(100% - calc(var(--clr-timeline-icon-size) - var(--clr-timeline-step-internal-margin)));
  --clr-timeline-vertical-step-body-margin: 0 0 0 var(--clr-timeline-step-internal-margin);
  --clr-timeline-vertical-line-position: translate(
    calc(-0.5 * calc(var(--clr-timeline-icon-size) + var(--clr-timeline-line-width)) - var(--clr-timeline-step-internal-margin)),
    calc(var(--clr-timeline-icon-size) - var(--clr-timeline-line-width))
  );

  --clr-timeline-vertical-line-length: calc(100% - calc(0.5 * var(--clr-timeline-icon-size) + var(--clr-timeline-line-width)));

  --clr-timeline-step-header-font-size: #{tokens.$cds-global-typography-font-size-3};
  --clr-timeline-step-header-font-weight: #{tokens.$cds-global-typography-font-weight-medium};
  --clr-timeline-step-header-line-height: #{tokens.$cds-global-space-7};

  --clr-timeline-step-title-font-size: #{tokens.$cds-global-typography-font-size-3};
  --clr-timeline-step-title-font-weight: #{tokens.$cds-global-typography-font-weight-semibold};
  --clr-timeline-step-title-line-height: #{tokens.$cds-global-space-7};

  --clr-timeline-step-description-font-size: #{tokens.$cds-global-typography-font-size-1};
  --clr-timeline-step-description-font-weight: #{tokens.$cds-global-typography-font-weight-regular};
  --clr-timeline-step-description-line-height: #{tokens.$cds-global-space-7};

  /* Tooltips */

  --clr-tooltip-background-color: #{tokens.$cds-alias-object-interaction-color-active};
  --clr-tooltip-color: #{tokens.$cds-alias-typography-color-100};
  --clr-tooltip-border-radius: #{tokens.$cds-alias-object-border-radius-100};
  --clr-tooltip-font-weight: #{tokens.$cds-global-typography-body-font-weight};
  --clr-tooltip-content-margin: #{tokens.$cds-global-space-9};
  --clr-tooltip-content-padding: #{tokens.$cds-global-space-6};
  --clr-tooltip-content-line-height: #{tokens.$cds-global-space-7};

  --clr-tooltip-arrow-width: #{tokens.$cds-global-space-5};
  --clr-tooltip-arrow-height: #{tokens.$cds-global-space-5};
  --clr-tooltip-arrow-horizontal-size: calc(-1 * #{tokens.$cds-global-space-6});
  --clr-tooltip-arrow-vertical-size: calc(-1 * #{tokens.$cds-global-space-6});

  // TODO(CDE-884): Clean up accordion styles and properly separate accordion/stepper styles
  clr-stepper-panel .clr-accordion-inner-content {
    padding: #{tokens.$cds-global-space-9} #{tokens.$cds-global-space-11};
  }
}

[cds-theme~='dark'] {
  --clr-datagrid-loading-background: #{tokens.$cds-alias-object-opacity-300}; // #{$clr-datagrid-loading-background}; // rgba(0, 0, 0, 0.5);
}
